<html layout:decorate="~{layout}">
<link rel="stylesheet" type="text/css" th:href="@{/bootstrap.min.css}">
<nav th:replace="~{navbar :: navbarFragment}"></nav>
<div layout:fragment="content">
	<form th:action="@{/address}" method="post">
		<div class="input-group">
		<input name="address" style="width: 280px;"placeholder="도로명 주소를 입력해주세요." />

		<button class="btn btn-primary" type="submit">입력</button>
		</div>
	</form>

	<div class="container d-flex justify-content-center align-items-center" style="height: 100vh;">
	    
	    <!-- 로그인되지 않은 사용자와 날씨 데이터가 없을 때만 보여주는 카드 -->
	    <div class="card text-center mb-3" style="width: 35rem;" sec:authorize="isAnonymous()" th:unless="${weather != null}">
	        <div class="card-body">
	            <img class="card-img-top" th:src="@{/images/exweather.png}" alt="날씨 아이콘">
	            <h5 class="card-title">ClothCast</h5>
	            <h5 class="card-title">로그인 후 이용해주세요!!!</h5>
	        </div>
	    </div>

	    <!-- 로그인된 사용자와 날씨 데이터가 있을 때만 보여주는 카드 -->
	    <div class="card text-center mb-3" style="width: 30rem;" sec:authorize="isAuthenticated()" th:unless="${weather == null}">
	        <div class="card-body">
	            <img class="card-img-top" th:src="@{'https://openweathermap.org/img/wn/' + ${weather['weather_icon']} + '.png'}" alt="날씨 아이콘">
	            <h5 class="card-title" th:text="'도시명 : ' + ${weather['name']}"></h5>
	            <ul class="list-group list-group-flush">
	                <li class="list-group-item" th:text="'날씨 : ' + ${weather['weather_main']}"></li>
	                <li class="list-group-item" th:text="'날씨 설명 : ' + ${weather['weather_description']}"></li>
	                <li class="list-group-item" th:text="'온도 : ' + ${weather['temperature']}"></li>
	                <li class="list-group-item" th:text="'습도 : ' + ${weather['humidity']}"></li>
	            </ul>
	        </div>
	    </div>
	</div>
</div>

</html>